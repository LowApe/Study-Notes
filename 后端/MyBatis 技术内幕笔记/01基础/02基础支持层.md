# 基础支持层

## 1 解析器模块

在 MyBatis 中涉及多个 XML 配置文件，因此我们首先介绍 `XML解析`的相关内容。XML解析常见的方式有三种，分别是：

- DOM(Document Object Model)解析方式
- SAX(Simple API for XML)解析方式，
-  JDK 6.0 版本开始，JDK开始支持的 StAX(Streaming API for XML)

**DOM**

基于树形结构的 XML 解析方式，它会将整个 XML 文档读入内存并构建一个 DOM 树，基于这颗树形结构对各个节点(Node)进行操作。

**SAX**

SAX 是基于事件模型的 XML 解析方式，它并不需要将整个 XML 文档加载到内存中，而只需将 XML 文档的一部分加载到内存中，即开始解析.在满足条件时，也可以立即停止解析过程，这样就不必解析剩余的 XML 内容

**StAX**

JAXP 是 JDK 提供的一套用于解析 XML 的API，它很好地支持 DOM 和 SAX 解析方式，JAXP 是 JavaSE 的一部分，它由 `javax.xml`、`org.w3c.com`、`org.xml.sax`包及其子包组成。从 JDK 6.0 开始，JAXP 开始支持另一种 XML 解析方式 StAX 解析方式

![image.png](http://ww1.sinaimg.cn/large/006rAlqhgy1gm4omcpnmjj30pa08o3zp.jpg)

> 🤔看不太懂了..

## 2 反射工具箱

MyBatis 在进行参数处理、结果映射等操作时，会涉及大量的反射操作。MyBatis 提供了专门的反射模块，该模块位于`org.apache.ibatis.reflection`

### 1 Reflector & ReflectorFactory

> Reflector 是 MyBatis 中反射模块的基础，每个 Reflector 对象都对应一个类，在 Reflector 中缓存了反射操作需要使用的类的元信息





## 3 类型转换

从结果集中获取数据时，则需要从 Java 类型转换成 JDBC 类型。MyBatis 使用 **类型处理器**完成上述两种转换

![image.png](http://ww1.sinaimg.cn/large/006rAlqhgy1gm4pcm6zl5j30h00bgmyi.jpg)

