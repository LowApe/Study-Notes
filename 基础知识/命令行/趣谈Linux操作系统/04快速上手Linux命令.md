# å¿«é€Ÿä¸Šæ‰‹ Linux å‘½ä»¤

## ç”¨æˆ·ä¸å¯†ç 

ä¿®æ”¹å¯†ç ï¼š

```shell
passwd
Changing password for root.
Old Password:
```

è¿™ä¸ªå‘½ä»¤æ”¾åœ¨ `/etc/passwd`æ–‡ä»¶ï¼Œç»„çš„ä¿¡æ¯æ”¾åœ¨`/etc/group`



æ·»åŠ ç”¨æˆ·ï¼š

```shell
useradd userName
# åˆ›å»ºç”¨æˆ·çš„ä½¿ç”¨æŒ‡å®šç»„
useradd -h
```

## æ¸¸è§ˆæ–‡ä»¶

Linux æ–‡ä»¶éœ€è¦é€šè¿‡å‘½ä»¤æ¥è¿›è¡ŒæŸ¥çœ‹

```shell
cd directory # åˆ‡æ¢ç›®å½•
cd . #è¡¨ç¤ºåˆ‡æ¢å½“å‰ç›®å½•
cd .. #è¡¨ç¤ºåˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•
ls -l#åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ -lè¡¨ç¤ºç”¨åˆ—è¡¨æ˜¾ç¤º
```



```shell
ls -l
total 45
drwxrwxr-x+ 103 root  admin  3502 12  3 08:05 Applications
-rw-r--r--  66 root  wheel  2244 10 10 15:07 Library
```

å…¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯**æ–‡ä»¶ç±»å‹**ã€‚

- å¦‚æœæ˜¯ `-`,è¡¨ç¤ºæ™®é€šæ–‡ä»¶ï¼›
- å¦‚æœæ˜¯ `d`,å°±è¡¨ç¤ºç›®å½•

ç¬¬ä¸€ä¸ªå­—æ®µå‰©ä¸‹çš„ 9ä¸ªå­—ç¬¦æ˜¯**æ¨¡å¼**,å…¶å®å°±æ˜¯æƒé™ä½(access permission bits).3 ä¸ªä¸€ç»„ï¼Œæ¯ç»„ `rwx` è¡¨ç¤ºè¯»(read)ã€å†™(write)ã€æ‰§è¡Œ(execute).**å¦‚æœæ˜¯å­—æ¯ï¼Œå°±è¯´æ˜æœ‰è¿™ä¸ªæƒé™**

`-rw-r-r--`è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œå¯¹æ‰€å±ç”¨æˆ·ï¼Œå¯è¯»å¯å†™ä¸èƒ½æ‰§è¡Œï¼Œå¯¹äºæ‰€å±çš„ç»„ï¼Œä»…ä»…å¯è¯»ï¼›å¯¹äºå…¶ä»–ç”¨æˆ·ï¼Œä¹Ÿæ˜¯ä»…ä»…å¯è¯»ã€‚å¦‚æœæƒ³æ”¹å˜æƒé™ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ `chmod711 hosts`

ç¬¬äºŒä¸ªå­—æ®µæ˜¯**ç¡¬é“¾æ¥æ•°ç›®**

ç¬¬ä¸‰ä¸ªå­—æ®µæ˜¯**æ‰€å±ç”¨æˆ·**

ç¬¬å››ä¸ªå­—æ®µæ˜¯**æ‰€å±ç»„**

ç¬¬äº”ä¸ªå­—æ®µæ˜¯**æ–‡ä»¶çš„å¤§å°**

ç¬¬å…­ä¸ªå­—æ®µæ˜¯**æ–‡ä»¶è¢«ä¿®æ”¹çš„æ—¥æœŸ**

ç¬¬ä¸ƒä¸ªå­—æ®µæ˜¯**æ–‡ä»¶å**

å¯ä»¥é€šè¿‡å‘½ä»¤ `chown`æ”¹å˜æ‰€å±ç”¨æˆ·ï¼Œ`chgrp`æ”¹å˜æ‰€å±ç»„

> âš ï¸æ³¨æ„ï¼šä¸Šä¼ `scp /æœ¬åœ°æ–‡ä»¶è·¯å¾„/æœ¬åœ°æ–‡ä»¶å æœåŠ¡å™¨ç”¨æˆ·å@æœåŠ¡å™¨IP:è·¯å¾„`
> ä¸‹è½½ï¼š`scp æœåŠ¡å™¨ç”¨æˆ·å@æœåŠ¡å™¨IP:è·¯å¾„/æ–‡ä»¶å /æœ¬åœ°æ–‡ä»¶è·¯å¾„`

## å®‰è£…è½¯ä»¶

å¯¹äº windows ç³»ç»Ÿï¼Œæœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯ä¸‹è½½ exeã€‚å¯¹äº Linux æ¥è®²ï¼Œä¹Ÿæ˜¯ç±»ä¼¼çš„æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸‹è½½ rpm æˆ–è€… deb

å› ä¸º Linux å¸¸ç”¨çš„æœ‰ä¸¤å¤§ä½“ç³»

- CentOS-rpm
- Ubuntu-deb

CentOS ä½¿ç”¨ `rpm -i jdk-XXX_linux-x64_bin.rpm`

Ubuntu ä¸‹é¢ä½¿ç”¨ `dpkg -i jdk-XXX_linux-x64_bin.deb`

 åœ¨ Linux ä¸‹é¢ï¼Œæ‹¼æ¥ `rpm -qa` å’Œ `dpkg -l`å°±å¯ä»¥æŸ¥çœ‹å®‰è£…çš„è½¯ä»¶åˆ—è¡¨ï¼Œ`-q`å°±æ˜¯ queryï¼Œa å°±æ˜¯ allï¼Œ-l å°±æ˜¯ list

ä½¿ç”¨`grep`æ¥è¿›è¡Œç­›é€‰ã€‚å¦‚æœè¦åˆ é™¤ï¼Œå¯ä»¥ç”¨ `rpm -e` å’Œ `dpkg -r` ã€‚-e å°±æ˜¯ earseï¼Œ -r å°±æ˜¯remove



Linux ä¹Ÿæœ‰è‡ªå·±çš„è½¯ä»¶ç®¡å®¶ï¼ŒCentOSæ˜¯` yum`ï¼ŒUbuntu ä¸‹é¢æ˜¯ `apt-get`

> ğŸ’¡æç¤ºï¼šå¯ä»¥é€šè¿‡ search å‚æ•°æœç´¢è½¯ä»¶ï¼Œå¦‚æœæ•°é‡å¤ªå¤šï¼Œä½ å¯ä»¥é€šè¿‡ç®¡é“ `grep` ã€`more`ã€`less` æ¥è¿›è¡Œè¿‡æ»¤
>
> 

å¦‚ä½•å¸è½½

- yum erase software
- apt-get purge software



Linux ä¸‹è½½çš„è½¯ä»¶éƒ½ä¼šæœ‰ä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡ç«¯ï¼Œæ¥ä¿å­˜è¿™äº›è½¯ä»¶

- CentOS é…ç½®æ–‡ä»¶ `/etc/yum.repos.d/CentOs-Base.repo`
- Ubuntuæ¥è®²ï¼Œé…ç½®æ–‡ä»¶åœ¨ `/etc/apt/sources.list`



> â€‹	å¦‚æœä¸åŒå›½å®¶ï¼Œå¯ä»¥ä¿®æ”¹ä¸åŒå›½å®¶çš„æ•°æ®æºï¼Œç›¸å¯¹é€Ÿåº¦å¿«ä¸€äº›
>
> âš ï¸æ³¨æ„ï¼šä¸ç®¡æ˜¯å…ˆä¸‹è½½å†å®‰è£…ï¼Œè¿˜æ˜¯é€šè¿‡è½¯ä»¶ç®¡å®¶è¿›è¡Œå®‰è£…ï¼Œéƒ½æ˜¯ä¸‹è½½ä¸€äº›æ–‡ä»¶ï¼Œç„¶åå°†è¿™äº›æ–‡ä»¶æ”¾åœ¨æŸä¸ªè·¯å¾„ä¸‹ï¼Œç„¶ååœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹



Linux é»˜è®¤æœ‰ tar ç¨‹åºï¼Œå¦‚æœæ˜¯è§£å‹ç¼© zip åŒ…ï¼Œå°±éœ€è¦å¦è¡Œå®‰è£…

```shell
apt-get install zip unzip
```

åœ¨ Linux é€šè¿‡ tar è§£å‹ç¼©ä¹‹åï¼Œä¹Ÿéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥é€šè¿‡ export å‘½ä»¤æ¥é…ç½®

```shell
export JAVA_HOME = /root/xxxx
export PATH = $JAVA_HOME/bin:$PATH
```

> âš ï¸æ³¨æ„ï¼šexport å‘½ä»¤ä»…åœ¨å½“å‰å‘½ä»¤è¡Œçš„ä¼šè¯ä¸­ç®¡ç”¨ï¼Œä¸€æ—¦é€€å‡ºé‡æ–°ç™»å½•è¿›æ¥ï¼Œå°±ä¸ç®¡ç”¨ï¼Œéœ€è¦ç¼–è¾‘`/rootè·å–/home/cliu8` ç›®å½•ä¸‹çš„`.bashrc`

ç¼–è¾‘æ–‡æœ¬ä½¿ç”¨ vim ï¼Œéœ€è¦æŒæ¡ vim åŸºæœ¬çš„æ“ä½œ



## è¿è¡Œç¨‹åº

Linux ä¸æ˜¯æ ¹æ®åç¼€åæ¥æ‰§è¡Œçš„ã€‚å®ƒçš„æ‰§è¡Œæ¡ä»¶æ˜¯è¿™æ ·çš„ï¼šåªè¦æ–‡ä»¶æœ‰ `x` æ‰§è¡Œæƒé™ï¼Œéƒ½èƒ½åˆ°æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹ï¼Œé€šè¿‡ `./filename` è¿è¡Œè¿™ä¸ªç¨‹åºã€‚å½“ç„¶ï¼Œå¦‚æœæ”¾åœ¨ PATH é‡Œè®¾ç½®çš„è·¯å¾„ä¸‹é¢ï¼Œå°±ä¸ç”¨ `./` äº†ï¼Œç›´æ¥è¾“å…¥æ–‡ä»¶åå°±å¯ä»¥è¿è¡Œäº†ï¼ŒLinux ä¼šå¸®ä½ æ‰¾

**Linux è¿è¡Œç¨‹åºçš„ç¬¬äºŒç§æ–¹å¼ï¼Œåå°è¿è¡Œ**ï¼Œä½¿ç”¨ `nohup`å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤æ„æ€æ˜¯ no hang up ä¸æŒ‚èµ·ã€‚è¡¨ç¤ºå½“å‰äº¤æ¢å‘½ä»¤è¡Œé€€å‡ºçš„æ—¶å€™ï¼Œç¨‹åºè¿˜åœ¨ã€‚



```shell
# 1 è¡¨ç¤ºæ–‡ä»¶æè¿°1è¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼Œ2è¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦2æ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œ
# "2>&1" è¡¨ç¤ºæ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºåˆå¹¶è¾“å‡ºåˆ° out.file é‡Œ
nohup command >out.file 2>&1 &
```

å¦‚ä½•ç»“æŸè¿›ç¨‹

```shell
# ps -ef åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ç¨‹åº
# grep æŸ¥æ‰¾å…³é”®å­—
# awk å·¥å…·å¯ä»¥å¯¹æ–‡æœ¬è¿›è¡Œå¤„ç†,â€˜{print &2}â€™ è¡¨ç¤ºç¬¬äºŒåˆ—çš„å†…å®¹ï¼Œè¿è¡Œçš„ç¨‹åºID
# xargs ä¼ é€’ç»™ kill -9 å…³é—­è¿è¡Œçš„ç¨‹åº
ps -ef | grep å…³é”®å­— | awk '{print &2}'|xargs kill -9

```



**ç¨‹åºè¿è¡Œçš„ç¬¬ä¸‰ç§æ–¹å¼ï¼Œä»¥æœåŠ¡çš„æ–¹å¼è¿è¡Œ**ï¼Œä¾‹å¦‚å¸¸ç”¨çš„æ•°æ®åº“ MySQLï¼Œå°±æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼

```shell
apt-get install mysql-server #å®‰è£…mysql
systemctl start mysql  #å¯åŠ¨ mysql
systemctl enable mysql #è®¾ç½®å¼€æœºå¯åŠ¨
```

ä¹‹æ‰€ä»¥æˆä¸ºæœåŠ¡å¹¶ä¸”èƒ½å¤Ÿå¼€æœºå¯åŠ¨ï¼Œæ˜¯å› ä¸º `/lib/systemd/system`ç›®å½•ä¸‹ä¼šåˆ›å»ºä¸€ä¸ª XXX.service çš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†å¦‚ä½•å¯åŠ¨ã€å¦‚ä½•å…³é—­

> âš ï¸æ³¨æ„ï¼šCentOS é‡Œï¼Œå› ä¸ºæ‹…å¿ƒ mysql æˆæƒé—®é¢˜ï¼Œæ”¹ä¸ºä½¿ç”¨ MariaDBï¼Œé€šè¿‡
> å‘½ä»¤ `yum install mariadb-server mariadb`è¿›è¡Œå®‰è£…
> å‘½ä»¤`systemctl start mariadb`å¯åŠ¨
> å‘½ä»¤`systemctl enable mariadb` è®¾ç½®å¼€æœºå¯åŠ¨
> åœ¨`/usr/lib/systemd/system`ç›®å½•ä¸‹

## å…³æœºé‡å¯

```shell
shudown -h now # ç°åœ¨å°±å…³æœº
reboot # é‡å¯
```

