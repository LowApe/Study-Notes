# 工厂模式
> 所有的工厂模式都用来封装对象的创建

## 工厂方法模式

> 工厂方法模式定义了一个创建对象的接口，但由**子类决定**要实例化的类是哪一个。工厂方法让类把实例化推迟到子类

- 创建者类
    - 抽象创建者类，它定义了一个抽象的工厂方法
    - 包含依赖于抽象产品的代码，而这些抽象产品由子类创造
    - 子类为具体产品的创建者
- 产品类
    - 抽象的工厂产品
    - 子类为具体产品的类型

![工厂方法模式类图](http://ww1.sinaimg.cn/large/006rAlqhgy1g7ipyydnydj30ua0i0dit.jpg)

## 依赖倒置原则

> 设计原则：要依赖抽象，不要依赖具体类

原则说明了不能让高层组件依赖低层组件，而且，不管高层或低层组件，两者都依赖于**抽象**

Q：依赖倒置原则，究竟倒置在哪里？<br>
A：在依赖倒置原则中的倒置指的是和一般OO设计的思考方式完全相反。之前都是高层组件依赖与低层，都是由上而下，现在使用依赖倒置，高层和低层模块都依赖这个抽象。

**几个指导方针帮助你遵循原则**
- 变量不可以持有具体类的引用
- 不要让类派生自具体类
- 不要覆盖基类中已实现的方法

> 尽量达到这个原则，而不是随时都要遵循原则，任何Java 程序都有违法这些指导方针的地方。如果有一个不像是会改变的类，那么在代码直接实例化具体类也没什么，如果有个类可能改变，可以通过一些好的技巧(工厂方法)来封装改变
